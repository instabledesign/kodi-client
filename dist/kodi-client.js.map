{"version":3,"sources":["../src/utils.js","../src/exceptions.js","../src/request.js","../src/response.js","../src/listenable.js","../src/transports.js","../src/request-validator.js","../src/kodi-client.js"],"names":[],"mappings":"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","file":"kodi-client.js","sourcesContent":["var JSONRPC_VERSION = \"2.0\";\nvar REQUEST_INVALID_METHOD = 1000;\nvar REQUEST_INVALID_PARAMS = 1100;\nvar RESPONSE_ERROR_SERVER_ERROR = -32000;\nvar RESPONSE_ERROR_PARSING = -32700;\nvar RESPONSE_ERROR_INVALID_REQUEST = -32600;\nvar RESPONSE_ERROR_METHOD_NOT_FOUND = -32601;\nvar RESPONSE_ERROR_INVALID_PARAMETERS = -32602;\nvar RESPONSE_ERROR_INTERNAL_ERROR = -32603;\n\nvar merge = function (target, object) {\n    for (var key in object) {\n        if (target.hasOwnProperty(key) && typeof target[key] == 'object' && typeof object[key] == 'object') {\n            merge(target[key], object[key]);\n        }\n        else {\n            target[key] = object[key];\n        }\n    }\n};\n\nvar extend = function (child, parent) {\n    var childPrototype = child.prototype;\n    child.prototype = Object.create(parent.prototype);\n    for (var key in childPrototype) {\n        if (child.prototype[key]) {\n            child.prototype['_' + key] = child.prototype[key];\n        }\n        child.prototype[key] = childPrototype[key];\n    }\n    Object.defineProperty(child.prototype, 'constructor', {\n        enumerable: false,\n        value: child\n    });\n    Object.defineProperty(child.prototype, '_parent', {\n        enumerable: false,\n        value: parent\n    });\n};\n\nvar ObjectToArray = function (object) {\n    return Object.keys(object).map(function (key) {\n        return object[key];\n    })\n};","var Exception = function (message, code, parent) {\n    this.message = message || '';\n    this.code = code;\n    this.parent = parent;\n};\n\nException.prototype.toString = function () {\n    var getAncestorMessage = function (e) {\n        var eMessage = e.message;\n        if (e.parent) {\n            eMessage += '\\n' + getAncestorMessage(e.parent);\n        }\n\n        return eMessage;\n    };\n\n    return getAncestorMessage(this);\n};\n\nvar InvalidJsonRpc = function (message, code) {\n    this.message = message;\n    this.code = code;\n};\nextend(InvalidJsonRpc, Exception);\n\nvar InvalidArgumentException = function (object, type, message) {\n    this._parent.call(this, 'Need to be an \"' + type + '\". \"' + typeof(object) + '\" given.' + (message || ''));\n};\nextend(InvalidArgumentException, Exception);\n\nvar InvalidRequestException = function (request, parent) {\n    this.request = request;\n    this._parent.call(this, 'Invalid request \"' + request + '\".', null, parent);\n};\n\nextend(InvalidRequestException, Exception);\n","var Request = function (methodName, parameters, id) {\n    this.jsonrpc = JSONRPC_VERSION;\n    this.id = id || 0;\n    this.method = methodName;\n    this.params = parameters || {};\n};\n\nRequest.prototype.toString = function () {\n    return JSON.stringify(this);\n};\n","var Response = function (rawResponse) {\n    if (rawResponse == undefined || rawResponse == '') {\n        throw new Exception('The JSON-RPC is empty.');\n    }\n\n    try {\n        Object.assign(this, JSON.parse(rawResponse))\n    }\n    catch (e) {\n        throw new InvalidJsonRpc('The JSON-RPC response is not valid.', RESPONSE_ERROR_PARSING);\n    }\n\n    if (this.hasOwnProperty('jsonrpc') && (this.jsonrpc == '' || this.jsonrpc < JSONRPC_VERSION)) {\n        throw new InvalidJsonRpc('The JSON-RPC response version is not supported.');\n    }\n\n    if (!this.hasOwnProperty('result') && !this.hasOwnProperty('error')) {\n        throw new Exception('The JSON-RPC response must have a result or error property.');\n    }\n};\n\nResponse.prototype = {\n    toString: function () {\n        return JSON.stringify(this);\n    },\n    isError: function () {\n        return this.hasOwnProperty('error')\n    },\n    getError: function () {\n        if (this.isError()) {\n            return {};\n        }\n\n        return false;\n    },\n    getResult: function () {\n        return this.result;\n    }\n};\n","var Listenable = function (listeners) {\n    this.listeners = {};\n    for (var i in listeners) {\n        this.listeners[listeners[i]] = [];\n    }\n};\n\nListenable.prototype = {\n    hasListener: function (eventName) {\n        return this.listeners.hasOwnProperty(eventName);\n    },\n    on: function (eventName, callback) {\n        if (!this.hasListener(eventName)) {\n            throw new Exception('Event \"' + eventName + '\" does\\'nt exist.');\n        }\n        else if (typeof callback !== 'function') {\n            throw new InvalidArgumentException(callback, 'function');\n        }\n\n        this.listeners[eventName].push(callback);\n    },\n    fire: function (eventName, value) {\n        if (!this.hasListener(eventName)) {\n            throw new Exception('Event \"' + eventName + '\" does\\'nt exist.');\n        }\n        else {\n            for (var i in this.listeners[eventName]) {\n                this.listeners[eventName][i](value);\n            }\n        }\n    }\n};\n\n","var TransportAjax = function (options) {\n    this._parent.call(this, ['request', 'message', 'error']);\n    var that = this;\n\n    if (window.XMLHttpRequest) {\n        this.xhr_object = new XMLHttpRequest();\n    }\n    else if (window.ActiveXObject) {\n        this.xhr_object = new ActiveXObject('Microsoft.XMLHTTP');\n    }\n\n    if (this.xhr_object === undefined) {\n        throw new Exception('Browser not support XMLHTTPRequest.');\n    }\n\n    this.options = {\n        open: {\n            method: null,\n            url: '',\n            async: true,\n            username: null,\n            password: null\n        },\n        headers: {\n            'Content-type': 'application/json'\n        }\n    };\n    merge(this.options, options);\n\n    that.onready = new Promise(function (resolve, reject) {\n        try {\n            that.xhr_object.open.apply(\n                that.xhr_object,\n                ObjectToArray(that.options.open)\n            );\n            resolve();\n        }\n        catch (e) {\n            reject(e);\n        }\n    });\n};\n\nTransportAjax.prototype = {\n    send: function (data) {\n        var that = this;\n\n        return new Promise(function (resolve, reject) {\n            that.xhr_object.onreadystatechange = function () {\n                if (that.xhr_object.readyState == 4) {\n                    if (that.xhr_object.status !== 200) {\n                        reject(that.xhr_object.statusText);\n                        that.fire('error', that.xhr_object.statusText);\n                    }\n                    else {\n                        that.fire('message', that.xhr_object);\n                    }\n                }\n            };\n\n            for (var name in that.options.headers) {\n                that.xhr_object.setRequestHeader(name, that.options.headers[name]);\n            }\n\n            that.fire('request', {request: data, resolve: resolve, reject: reject});\n            that.xhr_object.send(data);\n        });\n    },\n    getResponseData: function (xhr_object) {\n        return xhr_object.responseText;\n    }\n};\n\nextend(TransportAjax, Listenable);\n\nvar TransportWebsocket = function (options) {\n    this._parent.call(this, ['request', 'message', 'error']);\n    var that = this;\n    if (!typeof window.WebSocket === 'function') {\n        throw new Exception('Browser not support WebSocket.');\n    }\n    if ((typeof options.url) !== 'string') {\n        throw new InvalidArgumentException(options.url, 'string');\n    }\n    if (options.onmessage && (typeof options.onmessage) !== 'function') {\n        throw new InvalidArgumentException(options.onmessage, 'function');\n    }\n    if (options.onerror && (typeof options.onerror) !== 'function') {\n        throw new InvalidArgumentException(options.onerror, 'function');\n    }\n    if (options.onclose && (typeof options.onclose) !== 'function') {\n        throw new InvalidArgumentException(options.onclose, 'function');\n    }\n\n    var CONNECTING = 0;\n    var OPEN = 1;\n    var CLOSING = 2;\n    var CLOSED = 3;\n\n    this.options = {\n        url: options.url,\n        onmessage: function () {\n        },\n        onerror: function () {\n        },\n        onclose: function () {\n        }\n    };\n    merge(this.options, options);\n\n    that.websocket = new WebSocket(that.options.url);\n\n    that.onready = new Promise(function (resolve, reject) {\n        that.websocket.onopen = function (event) {\n            if (that.websocket.readyState == OPEN) {\n                resolve(event);\n            }\n            else {\n                that.fire('error', event);\n                reject(event);\n            }\n        };\n    });\n\n    that.websocket.onmessage = function (event) {\n        that.fire('message', event);\n    };\n\n    that.websocket.onerror = function (event) {\n        that.fire('error', event);\n    };\n};\n\nTransportWebsocket.prototype = {\n    send: function (data) {\n        var that = this;\n\n        return new Promise(function (resolve, reject) {\n            that.onready.then(function () {\n                that.fire('request', {request: data, resolve: resolve, reject: reject});\n                that.websocket.send(data);\n            });\n        });\n    },\n    getData: function (event) {\n        return event.data;\n    }\n};\n\nextend(TransportWebsocket, Listenable);\n","var RequestValidator = function(jsonschema) {\n    this.jsonschema = jsonschema;\n};\n\nRequestValidator.prototype = {\n    validate: function(request) {\n        try {\n            this.validateMethod(request.method);\n            this.validateParams(request.method, request.params);\n        }\n        catch(e) {\n            throw new InvalidRequestException(request, e);\n        }\n\n        return true;\n    },\n    validateMethod: function(method) {\n        var methods = Object.keys(this.jsonschema.methods);\n        if (method === undefined || method === ''){\n            throw new Exception('Request methods is required. Method list '+ methods.join(', '), REQUEST_INVALID_METHOD);\n        }\n\n        if (!this.hasMethod(method)){\n            //TODO levenstein to purpose choices\n            throw new Exception('Request method \"' + method + '\" doesn\\'t exist.', REQUEST_INVALID_METHOD);\n        }\n    },\n    validateParams: function(method, params){\n        var methodSchema = this.jsonschema.methods[method];\n        var paramsSchema = methodSchema.params;\n\n        if (paramsSchema.length === 0) {\n            if (ObjectToArray(params).length === 0) {\n                return true;\n            }\n            else {\n                throw new Exception('Request method \"' + method + '\" take no params. Excessive param ' + JSON.stringify(params) + ' given.');\n            }\n        }\n\n        try {\n            for (var param in params) {\n                this.validateParam(paramsSchema, param, params[param]);\n            }\n        }\n        catch(e) {\n            throw new Exception('Invalid param for request method \"' + method + '\".', null, e);\n        }\n    },\n    validateParam: function(paramsSchema, param, paramValue){\n        var paramSchema;\n        for (var i in paramsSchema) {\n            if (paramsSchema[i].name === param) {\n                paramSchema = paramsSchema[i];\n                break;\n            }\n        }\n\n        if (paramSchema === undefined) {\n            throw new Exception('Unexpected param \"' + param + '\" given.');\n        }\n\n        var type = typeof paramValue;\n        if (type !== paramSchema.type) {\n            throw new Exception('Wrong param type for \"' + param + '\". Expected \"' + paramSchema.type + '\", \"' + type + '\"given.');\n        }\n\n        //TODO WORK IN PROGRESS\n    },\n    hasMethod: function(name) {\n        return this.jsonschema.methods.hasOwnProperty(name);\n    },\n    hasNotifications: function(name) {\n        return this.jsonschema.notifications.hasOwnProperty(name);\n    }\n};","var KodiClient = function (options) {\n    var that = this;\n    this.callId = 1;\n    this.calls = [];\n    this.options = {\n        websocket: {},\n        ajax: {}\n    };\n\n    merge(this.options, options);\n\n    if (Object.getOwnPropertyNames(this.options.websocket).length !== 0 && typeof window.WebSocket === 'function') {\n        this.transport = new TransportWebsocket(this.options.websocket);\n    }\n\n    if (this.transport === undefined && Object.getOwnPropertyNames(this.options.ajax).length !== 0 && (window.XMLHttpRequest || window.ActiveXObject)) {\n        this.transport = new TransportAjax(this.options.ajax);\n    }\n\n    if (this.transport === undefined) {\n        throw new Exception('No transport is supported.');\n    }\n\n    this.transport.on('message', function (event) {\n        that.handleMessageEvent(event);\n    });\n\n    this.transport.on('request', function (event) {\n        that.handleRequestEvent(event);\n    });\n\n    that.onready = new Promise(function (resolve, reject) {\n        that.transport.onready.then(function () {\n            return that.send('JSONRPC.Introspect').then(function (response) {\n                that.requestValidator = new RequestValidator(response.getResult());\n                resolve();\n            });\n        })\n        .catch(function(){\n            reject();\n        });\n\n    });\n};\n\nKodiClient.prototype = {\n    send: function (methodName, parameters, id) {\n        var request = this.createRequest(methodName, parameters, id);\n\n        try {\n            if (this.requestValidator) {\n                this.requestValidator.validate(request);\n            }\n        }\n        catch (e) {\n            return Promise.reject(e);\n        }\n\n        return this.transport.send(request);\n    },\n    createRequest: function (methodName, parameters, id) {\n        return new Request(methodName, parameters, id || this.callId++);\n    },\n    createResponse: function (data) {\n        return new Response(data);\n    },\n    handleMessageEvent: function (responseEvent) {\n        var response = this.createResponse(this.transport.getData(responseEvent));\n        if (this.calls[response.id]) {\n            var call = this.calls[response.id];\n\n            if (response.error) {\n                call.reject(response);\n            }\n            else {\n                call.resolve(response);\n            }\n        }\n    },\n    handleRequestEvent: function (requestEvent) {\n        this.calls[requestEvent.request.id] = requestEvent;\n    }\n};\n"]}